<%- model_class = Challenge -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>
<div class="well">
  <% if @challenge.url.empty? %>
    <h4><em><%= @challenge.body %></em></h4>
  <% else %>
    <h4><em><%= link_to @challenge.body, @challenge.url, target: '_blank' %></em></h4>
  <% end %>
</div>
<%
=begin %>
<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:body) %>:</strong></dt>
  <dd><%= @challenge.body %></dd>
  <dt><strong><%= model_class.human_attribute_name(:url) %>:</strong></dt>
  <dd><%= @challenge.url %></dd>
</dl>
<%
=end %>
<div class="form-actions">
  <%= link_to t('.back', :default => t("helpers.links.back")),
              challenges_url, :class => 'btn'  %>
  <%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_challenge_url(@challenge), :class => 'btn' %>
  <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              challenge_url(@challenge),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
</div>

<%= form_for [@challenge, Response.new] do |f| %>
  <%= f.text_area :body, size: "60x3" %>
  <%= f.submit "Submit", :class => "btn btn-primary" %>
<% end %>

<% if @challenge.responses.empty? %>
  <h4>No responses yet...</h5>
<% else %>
  <ul>
  <% @challenge.responses.each do |response| %>
    <li><%= response.body %></li>
  <% end %>
  </ul>
<% end %>